<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_92) on Sat May 14 16:08:51 IST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>NatPmpDevice (TomP2P NAT 5.0-Beta9-SNAPSHOT API)</title>
<meta name="date" content="2016-05-14">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="NatPmpDevice (TomP2P NAT 5.0-Beta9-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NatPmpDevice.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/tomp2p/natpmp/MessageResponseInterface.html" title="interface in net.tomp2p.natpmp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../net/tomp2p/natpmp/NatPmpException.html" title="class in net.tomp2p.natpmp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/tomp2p/natpmp/NatPmpDevice.html" target="_top">Frames</a></li>
<li><a href="NatPmpDevice.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.tomp2p.natpmp</div>
<h2 title="Class NatPmpDevice" class="title">Class NatPmpDevice</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.tomp2p.natpmp.NatPmpDevice</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">NatPmpDevice</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class manages a NAT-PMP device. This class is thread-safe. This manages
 communication with a NAT-PMP device on the network. There are two types of
 messages that can be sent to the device.
 <a href="../../../net/tomp2p/natpmp/ExternalAddressRequestMessage.html" title="class in net.tomp2p.natpmp"><code>ExternalAddressRequestMessage</code></a> can be sent to get the external IP of
 the gateway. <a href="../../../net/tomp2p/natpmp/MapRequestMessage.html" title="class in net.tomp2p.natpmp"><code>MapRequestMessage</code></a> can be sent to map a port for a
 certain amount of time. These two messages can be put into the message queue
 through the <a href="../../../net/tomp2p/natpmp/NatPmpDevice.html#enqueueMessage-net.tomp2p.natpmp.Message-"><code>enqueueMessage(Message)</code></a> method. As this class manages a
 message queue to the NAT-PMP device, it is important to shut it down
 correctly. Any mapped ports that are no longer desired should be unmapped
 before shutdown occurs. Refer to <code>#NatPmpDevice(boolean)</code> for details
 about the shutdown mechanism.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>flszen</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../net/tomp2p/natpmp/NatPmpDevice.html#NatPmpDevice-java.net.InetAddress-">NatPmpDevice</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a>&nbsp;gateway)</code>
<div class="block">Constructs a new NatPmpDevice.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/natpmp/NatPmpDevice.html#clearQueue--">clearQueue</a></span>()</code>
<div class="block">Clears the queue of messages to send.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/natpmp/NatPmpDevice.html#enqueueMessage-net.tomp2p.natpmp.Message-">enqueueMessage</a></span>(<a href="../../../net/tomp2p/natpmp/Message.html" title="class in net.tomp2p.natpmp">Message</a>&nbsp;message)</code>
<div class="block">Enqueues a message for sending.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/natpmp/NatPmpDevice.html#isShutdown--">isShutdown</a></span>()</code>
<div class="block">Flag indicates if this NatPmpDevice is shutdown.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/natpmp/NatPmpDevice.html#shutdown--">shutdown</a></span>()</code>
<div class="block">Shuts down this NatPmpDevice.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/natpmp/NatPmpDevice.html#waitUntilQueueEmpty--">waitUntilQueueEmpty</a></span>()</code>
<div class="block">Synchronously waits until the queue is empty before returning.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="NatPmpDevice-java.net.InetAddress-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NatPmpDevice</h4>
<pre>public&nbsp;NatPmpDevice(<a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetAddress.html?is-external=true" title="class or interface in java.net">InetAddress</a>&nbsp;gateway)
             throws <a href="../../../net/tomp2p/natpmp/NatPmpException.html" title="class in net.tomp2p.natpmp">NatPmpException</a></pre>
<div class="block">Constructs a new NatPmpDevice.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>shutdownHookEnabled</code> - Shutting down existing port mappings is a desired behavior;
            therefore, this value is required! Refer to
            <code>#setShutdownHookEnabled(boolean)</code> for details about
            what value should be provided here and how it alters the
            object's behavior.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../net/tomp2p/natpmp/NatPmpException.html" title="class in net.tomp2p.natpmp">NatPmpException</a></code> - A NatPmpException may be thrown if the local network is not
             using addresses defined in RFC1918. A NatPmpException may
             also be thrown if the the network gateway cannot be
             determined, which may rarely be due to the network not using
             IPv4. NAT-PMP should only be used on RFC1918 networks using
             IPv4.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>#setShutdownHookEnabled(boolean)</code>, 
<a href="../../../net/tomp2p/natpmp/NatPmpDevice.html#shutdown--"><code>shutdown()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="enqueueMessage-net.tomp2p.natpmp.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enqueueMessage</h4>
<pre>public&nbsp;void&nbsp;enqueueMessage(<a href="../../../net/tomp2p/natpmp/Message.html" title="class in net.tomp2p.natpmp">Message</a>&nbsp;message)</pre>
<div class="block">Enqueues a message for sending.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - The <a href="../../../net/tomp2p/natpmp/Message.html" title="class in net.tomp2p.natpmp"><code>Message</code></a> to send.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../net/tomp2p/natpmp/NatPmpDevice.html#clearQueue--"><code>clearQueue()</code></a></dd>
</dl>
</li>
</ul>
<a name="clearQueue--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearQueue</h4>
<pre>public&nbsp;void&nbsp;clearQueue()</pre>
<div class="block">Clears the queue of messages to send. If a message is currently sending,
 it is not interrupted.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../net/tomp2p/natpmp/NatPmpDevice.html#enqueueMessage-net.tomp2p.natpmp.Message-"><code>enqueueMessage(Message)</code></a></dd>
</dl>
</li>
</ul>
<a name="waitUntilQueueEmpty--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitUntilQueueEmpty</h4>
<pre>public&nbsp;void&nbsp;waitUntilQueueEmpty()</pre>
<div class="block">Synchronously waits until the queue is empty before returning.</div>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block">Shuts down this NatPmpDevice. If the shutdown hook is disabled, this
 method should be called manually at the time port mappings through the
 NAT-PMP gateway are no longer needed. If the shutdown hook is enabled,
 this method is called automatically during Java VM shutdown. When this
 method is called, if the shutdown hook is enabled, it is automatically
 disabled. It should be noted that when this method is called manually, it
 blocks until it completes. If it is desired to shutdown asynchronously,
 the <code>#shutdownAsync(boolean)</code> method should be called.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../net/tomp2p/natpmp/NatPmpDevice.html#isShutdown--"><code>isShutdown()</code></a>, 
<code>#setShutdownHookEnabled(boolean)</code>, 
<code>#shutdownAsync(boolean)</code></dd>
</dl>
</li>
</ul>
<a name="isShutdown--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isShutdown</h4>
<pre>public&nbsp;boolean&nbsp;isShutdown()</pre>
<div class="block">Flag indicates if this NatPmpDevice is shutdown. This method will block
 if a shutdown is in progress. If you desire to wait for an asynchronous
 shutdown to complete, please monitor the returned <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang"><code>Thread</code></a> instead.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if this NatPmpDeviceTest is shutdown, false if it is not.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../net/tomp2p/natpmp/NatPmpDevice.html#shutdown--"><code>shutdown()</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/NatPmpDevice.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/tomp2p/natpmp/MessageResponseInterface.html" title="interface in net.tomp2p.natpmp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../net/tomp2p/natpmp/NatPmpException.html" title="class in net.tomp2p.natpmp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/tomp2p/natpmp/NatPmpDevice.html" target="_top">Frames</a></li>
<li><a href="NatPmpDevice.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>
