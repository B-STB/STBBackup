<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_92) on Sat May 14 16:08:51 IST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>RelayUtils (TomP2P NAT 5.0-Beta9-SNAPSHOT API)</title>
<meta name="date" content="2016-05-14">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="RelayUtils (TomP2P NAT 5.0-Beta9-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9,"i11":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RelayUtils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/tomp2p/relay/RelayRPC.html" title="class in net.tomp2p.relay"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/tomp2p/relay/RelayUtils.html" target="_top">Frames</a></li>
<li><a href="RelayUtils.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.tomp2p.relay</div>
<h2 title="Class RelayUtils" class="title">Class RelayUtils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>net.tomp2p.relay.RelayUtils</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">RelayUtils</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static io.netty.buffer.ByteBuf</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/relay/RelayUtils.html#composeMessageBuffer-java.util.List-net.tomp2p.connection.SignatureFactory-">composeMessageBuffer</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&gt;&nbsp;messages,
                    <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/SignatureFactory.html?is-external=true" title="class or interface in net.tomp2p.connection">SignatureFactory</a>&nbsp;signatureFactory)</code>
<div class="block">Composes all messages of a list into a single buffer object, ready to be transmitted over the network.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/futures/FutureResponse.html?is-external=true" title="class or interface in net.tomp2p.futures">FutureResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/relay/RelayUtils.html#connectAndSend-net.tomp2p.p2p.Peer-net.tomp2p.message.Message-">connectAndSend</a></span>(<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/p2p/Peer.html?is-external=true" title="class or interface in net.tomp2p.p2p">Peer</a>&nbsp;peer,
              <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&nbsp;message)</code>
<div class="block">Opens a new peer connection to the receiver and sends the message through it.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/relay/RelayUtils.html#decodeMessage-io.netty.buffer.ByteBuf-java.net.InetSocketAddress-java.net.InetSocketAddress-net.tomp2p.connection.SignatureFactory-">decodeMessage</a></span>(io.netty.buffer.ByteBuf&nbsp;buf,
             <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;recipient,
             <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;sender,
             <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/SignatureFactory.html?is-external=true" title="class or interface in net.tomp2p.connection">SignatureFactory</a>&nbsp;signatureFactory)</code>
<div class="block">Decodes a message which was encoded using {<a href="../../../net/tomp2p/relay/RelayUtils.html#encodeMessage-net.tomp2p.message.Message-net.tomp2p.connection.SignatureFactory-"><code>encodeMessage(Message, SignatureFactory)</code></a>}.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/relay/RelayUtils.html#decodeRelayedMessage-io.netty.buffer.ByteBuf-java.net.InetSocketAddress-java.net.InetSocketAddress-net.tomp2p.connection.SignatureFactory-">decodeRelayedMessage</a></span>(io.netty.buffer.ByteBuf&nbsp;buf,
                    <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;recipient,
                    <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;sender,
                    <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/SignatureFactory.html?is-external=true" title="class or interface in net.tomp2p.connection">SignatureFactory</a>&nbsp;signatureFactory)</code>
<div class="block">Basically does the same as
 <code>MessageUtils#decodeMessage(Buffer, InetSocketAddress, InetSocketAddress, SignatureFactory)</code>, but
 in addition checks that the relay peers of the decoded message are set correctly</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/relay/RelayUtils.html#decodeString-net.tomp2p.message.Buffer-">decodeString</a></span>(<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Buffer.html?is-external=true" title="class or interface in net.tomp2p.message">Buffer</a>&nbsp;buffer)</code>
<div class="block">Decodes buffer containing a String</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/relay/RelayUtils.html#decomposeCompositeBuffer-io.netty.buffer.ByteBuf-java.net.InetSocketAddress-java.net.InetSocketAddress-net.tomp2p.connection.SignatureFactory-">decomposeCompositeBuffer</a></span>(io.netty.buffer.ByteBuf&nbsp;messageBuffer,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;recipient,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;sender,
                        <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/SignatureFactory.html?is-external=true" title="class or interface in net.tomp2p.connection">SignatureFactory</a>&nbsp;signatureFactory)</code>
<div class="block">Decomposes a buffer containing multiple buffers into an (ordered) list of small buffers.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Buffer.html?is-external=true" title="class or interface in net.tomp2p.message">Buffer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/relay/RelayUtils.html#encodeMessage-net.tomp2p.message.Message-net.tomp2p.connection.SignatureFactory-">encodeMessage</a></span>(<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&nbsp;message,
             <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/SignatureFactory.html?is-external=true" title="class or interface in net.tomp2p.connection">SignatureFactory</a>&nbsp;signatureFactory)</code>
<div class="block">Encodes a message into a buffer, such that it can be used as a message payload (piggybacked), stored, etc.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Buffer.html?is-external=true" title="class or interface in net.tomp2p.message">Buffer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/relay/RelayUtils.html#encodeString-java.lang.String-">encodeString</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;content)</code>
<div class="block">Encodes any String into a buffer to send it with a message</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/PeerAddress.html?is-external=true" title="class or interface in net.tomp2p.peers">PeerAddress</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/relay/RelayUtils.html#flatten-java.util.List-">flatten</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/Number160.html?is-external=true" title="class or interface in net.tomp2p.peers">Number160</a>,<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/PeerStatistic.html?is-external=true" title="class or interface in net.tomp2p.peers">PeerStatistic</a>&gt;&gt;&nbsp;maps)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/relay/RelayUtils.html#getMessageSize-net.tomp2p.message.Message-net.tomp2p.connection.SignatureFactory-">getMessageSize</a></span>(<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&nbsp;message,
              <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/SignatureFactory.html?is-external=true" title="class or interface in net.tomp2p.connection">SignatureFactory</a>&nbsp;signatureFactory)</code>
<div class="block">Calculates the size of the message</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/futures/FutureResponse.html?is-external=true" title="class or interface in net.tomp2p.futures">FutureResponse</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/relay/RelayUtils.html#send-net.tomp2p.connection.PeerConnection-net.tomp2p.connection.PeerBean-net.tomp2p.connection.ConnectionBean-net.tomp2p.message.Message-">send</a></span>(<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/PeerConnection.html?is-external=true" title="class or interface in net.tomp2p.connection">PeerConnection</a>&nbsp;peerConnection,
    <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/PeerBean.html?is-external=true" title="class or interface in net.tomp2p.connection">PeerBean</a>&nbsp;peerBean,
    <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/ConnectionBean.html?is-external=true" title="class or interface in net.tomp2p.connection">ConnectionBean</a>&nbsp;connectionBean,
    <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&nbsp;message)</code>
<div class="block">Send a Message from one Peer to another Peer internally.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/Number160.html?is-external=true" title="class or interface in net.tomp2p.peers">Number160</a>,<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/PeerStatistic.html?is-external=true" title="class or interface in net.tomp2p.peers">PeerStatistic</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../net/tomp2p/relay/RelayUtils.html#unflatten-java.util.Collection-net.tomp2p.peers.PeerAddress-">unflatten</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/PeerAddress.html?is-external=true" title="class or interface in net.tomp2p.peers">PeerAddress</a>&gt;&nbsp;map,
         <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/PeerAddress.html?is-external=true" title="class or interface in net.tomp2p.peers">PeerAddress</a>&nbsp;sender)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="unflatten-java.util.Collection-net.tomp2p.peers.PeerAddress-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unflatten</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/Number160.html?is-external=true" title="class or interface in net.tomp2p.peers">Number160</a>,<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/PeerStatistic.html?is-external=true" title="class or interface in net.tomp2p.peers">PeerStatistic</a>&gt;&gt;&nbsp;unflatten(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/PeerAddress.html?is-external=true" title="class or interface in net.tomp2p.peers">PeerAddress</a>&gt;&nbsp;map,
                                                           <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/PeerAddress.html?is-external=true" title="class or interface in net.tomp2p.peers">PeerAddress</a>&nbsp;sender)</pre>
</li>
</ul>
<a name="flatten-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flatten</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/PeerAddress.html?is-external=true" title="class or interface in net.tomp2p.peers">PeerAddress</a>&gt;&nbsp;flatten(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/Number160.html?is-external=true" title="class or interface in net.tomp2p.peers">Number160</a>,<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/peers/PeerStatistic.html?is-external=true" title="class or interface in net.tomp2p.peers">PeerStatistic</a>&gt;&gt;&nbsp;maps)</pre>
</li>
</ul>
<a name="composeMessageBuffer-java.util.List-net.tomp2p.connection.SignatureFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>composeMessageBuffer</h4>
<pre>public static&nbsp;io.netty.buffer.ByteBuf&nbsp;composeMessageBuffer(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&gt;&nbsp;messages,
                                                           <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/SignatureFactory.html?is-external=true" title="class or interface in net.tomp2p.connection">SignatureFactory</a>&nbsp;signatureFactory)</pre>
<div class="block">Composes all messages of a list into a single buffer object, ready to be transmitted over the network.
 The composing happens in-order. Alternatively, the message size and then the message is written to the
 buffer. Use <code>MessageBuffer#decomposeCompositeBuffer(ByteBuf)</code> to disassemble.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messages</code> - the messages to compose</dd>
<dd><code>signatureFactory</code> - the signature factory, necessary for encoding the messages</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a single buffer holding all messages of the list</dd>
</dl>
</li>
</ul>
<a name="decomposeCompositeBuffer-io.netty.buffer.ByteBuf-java.net.InetSocketAddress-java.net.InetSocketAddress-net.tomp2p.connection.SignatureFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decomposeCompositeBuffer</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&gt;&nbsp;decomposeCompositeBuffer(io.netty.buffer.ByteBuf&nbsp;messageBuffer,
                                                     <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;recipient,
                                                     <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;sender,
                                                     <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/SignatureFactory.html?is-external=true" title="class or interface in net.tomp2p.connection">SignatureFactory</a>&nbsp;signatureFactory)</pre>
<div class="block">Decomposes a buffer containing multiple buffers into an (ordered) list of small buffers. Alternating,
 the size of the message and the message itself are encoded in the message buffer. First, the size is
 read, then k bytes are read from the buffer (the message). Then again, the size of the next messages is
 determined.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>messageBuffer</code> - the message buffer</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of buffers</dd>
</dl>
</li>
</ul>
<a name="encodeMessage-net.tomp2p.message.Message-net.tomp2p.connection.SignatureFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encodeMessage</h4>
<pre>public static&nbsp;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Buffer.html?is-external=true" title="class or interface in net.tomp2p.message">Buffer</a>&nbsp;encodeMessage(<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&nbsp;message,
                                   <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/SignatureFactory.html?is-external=true" title="class or interface in net.tomp2p.connection">SignatureFactory</a>&nbsp;signatureFactory)
                            throws <a href="http://docs.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</a>,
                                   <a href="http://docs.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</a>,
                                   <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Encodes a message into a buffer, such that it can be used as a message payload (piggybacked), stored, etc.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="decodeMessage-io.netty.buffer.ByteBuf-java.net.InetSocketAddress-java.net.InetSocketAddress-net.tomp2p.connection.SignatureFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeMessage</h4>
<pre>public static&nbsp;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&nbsp;decodeMessage(io.netty.buffer.ByteBuf&nbsp;buf,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;recipient,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;sender,
                                    <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/SignatureFactory.html?is-external=true" title="class or interface in net.tomp2p.connection">SignatureFactory</a>&nbsp;signatureFactory)
                             throws <a href="http://docs.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</a>,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</a>,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/security/spec/InvalidKeySpecException.html?is-external=true" title="class or interface in java.security.spec">InvalidKeySpecException</a>,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</a>,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Decodes a message which was encoded using {<a href="../../../net/tomp2p/relay/RelayUtils.html#encodeMessage-net.tomp2p.message.Message-net.tomp2p.connection.SignatureFactory-"><code>encodeMessage(Message, SignatureFactory)</code></a>}.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/spec/InvalidKeySpecException.html?is-external=true" title="class or interface in java.security.spec">InvalidKeySpecException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="decodeRelayedMessage-io.netty.buffer.ByteBuf-java.net.InetSocketAddress-java.net.InetSocketAddress-net.tomp2p.connection.SignatureFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeRelayedMessage</h4>
<pre>public static&nbsp;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&nbsp;decodeRelayedMessage(io.netty.buffer.ByteBuf&nbsp;buf,
                                           <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;recipient,
                                           <a href="http://docs.oracle.com/javase/6/docs/api/java/net/InetSocketAddress.html?is-external=true" title="class or interface in java.net">InetSocketAddress</a>&nbsp;sender,
                                           <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/SignatureFactory.html?is-external=true" title="class or interface in net.tomp2p.connection">SignatureFactory</a>&nbsp;signatureFactory)
                                    throws <a href="http://docs.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</a>,
                                           <a href="http://docs.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</a>,
                                           <a href="http://docs.oracle.com/javase/6/docs/api/java/security/spec/InvalidKeySpecException.html?is-external=true" title="class or interface in java.security.spec">InvalidKeySpecException</a>,
                                           <a href="http://docs.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</a>,
                                           <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Basically does the same as
 <code>MessageUtils#decodeMessage(Buffer, InetSocketAddress, InetSocketAddress, SignatureFactory)</code>, but
 in addition checks that the relay peers of the decoded message are set correctly</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/spec/InvalidKeySpecException.html?is-external=true" title="class or interface in java.security.spec">InvalidKeySpecException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getMessageSize-net.tomp2p.message.Message-net.tomp2p.connection.SignatureFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageSize</h4>
<pre>public static&nbsp;int&nbsp;getMessageSize(<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&nbsp;message,
                                 <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/SignatureFactory.html?is-external=true" title="class or interface in net.tomp2p.connection">SignatureFactory</a>&nbsp;signatureFactory)
                          throws <a href="http://docs.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</a>,
                                 <a href="http://docs.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</a>,
                                 <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Calculates the size of the message</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="encodeString-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encodeString</h4>
<pre>public static&nbsp;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Buffer.html?is-external=true" title="class or interface in net.tomp2p.message">Buffer</a>&nbsp;encodeString(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;content)</pre>
<div class="block">Encodes any String into a buffer to send it with a message</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>content</code> - the String to encode into a buffer</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a buffer containing the (encoded) String.</dd>
</dl>
</li>
</ul>
<a name="decodeString-net.tomp2p.message.Buffer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeString</h4>
<pre>public static&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;decodeString(<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Buffer.html?is-external=true" title="class or interface in net.tomp2p.message">Buffer</a>&nbsp;buffer)</pre>
<div class="block">Decodes buffer containing a String</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>buffer</code> - the buffer received in a message</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the encoded String</dd>
</dl>
</li>
</ul>
<a name="send-net.tomp2p.connection.PeerConnection-net.tomp2p.connection.PeerBean-net.tomp2p.connection.ConnectionBean-net.tomp2p.message.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>send</h4>
<pre>public static&nbsp;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/futures/FutureResponse.html?is-external=true" title="class or interface in net.tomp2p.futures">FutureResponse</a>&nbsp;send(<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/PeerConnection.html?is-external=true" title="class or interface in net.tomp2p.connection">PeerConnection</a>&nbsp;peerConnection,
                                  <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/PeerBean.html?is-external=true" title="class or interface in net.tomp2p.connection">PeerBean</a>&nbsp;peerBean,
                                  <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/connection/ConnectionBean.html?is-external=true" title="class or interface in net.tomp2p.connection">ConnectionBean</a>&nbsp;connectionBean,
                                  <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&nbsp;message)</pre>
<div class="block">Send a Message from one Peer to another Peer internally. This avoids the
 overhead of sendDirect. This Method is used for relaying and reverse
 Connection setup.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the response</dd>
</dl>
</li>
</ul>
<a name="connectAndSend-net.tomp2p.p2p.Peer-net.tomp2p.message.Message-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>connectAndSend</h4>
<pre>public static&nbsp;<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/futures/FutureResponse.html?is-external=true" title="class or interface in net.tomp2p.futures">FutureResponse</a>&nbsp;connectAndSend(<a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/p2p/Peer.html?is-external=true" title="class or interface in net.tomp2p.p2p">Peer</a>&nbsp;peer,
                                            <a href="http://tomp2p.net/tomp2p-core/apidocs/net/tomp2p/message/Message.html?is-external=true" title="class or interface in net.tomp2p.message">Message</a>&nbsp;message)</pre>
<div class="block">Opens a new peer connection to the receiver and sends the message through it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>peer</code> - </dd>
<dd><code>message</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/RelayUtils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../net/tomp2p/relay/RelayRPC.html" title="class in net.tomp2p.relay"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?net/tomp2p/relay/RelayUtils.html" target="_top">Frames</a></li>
<li><a href="RelayUtils.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>
